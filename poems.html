<!DOCTYPE html>
<html>
<head>
  <title>Random vers</title>
  <style>
    button {
      box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19);
      width: 30%;
    }
    button:hover {
      box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);
      width: 30%;
    }
    h1 {
      text-align: center;
    }
    pre {
      text-align: center;
    }
    div {
      margin:20px;
      text-align: center;
    }
  </style>
</head>
<body>
  <h1 text-align: center;>Véletlen vers</h1>
  <div><button type="button" onclick="logPoem()">Mutass egy verset</button></div>
  <div id="title"></div>
  <pre id="poem"></pre>
  <div id="likeButtonContainer"></div>
  <div id="gifContainer"></div>

  <script>
  import json

def get_poems_from_file(file_path):
    try:
        with open(file_path, 'r') as file:
            poems = json.load(file)
        return poems
    except FileNotFoundError:
        print(f"File not found: {file_path}")
        return []
    except json.JSONDecodeError:
        print(f"Error decoding JSON file: {file_path}")
        return []

def getRandomPoem(poems):
    if poems:
        randomIndex = random.randint(0, len(poems) - 1)
        return poems[randomIndex]
    else:
        return None

def logPoem():
    poems = get_poems_from_file("poems.json")

  //  # Delete all previous entries
    document.getElementById("title").innerHTML = ""
    document.getElementById("poem").textContent = ""
    document.getElementById("likeButtonContainer").innerHTML = ""
    document.getElementById("gifContainer").innerHTML = ""

    poem = getRandomPoem(poems)
    if poem:
        title = poem["title"]
        content = poem["content"]

        document.getElementById("title").innerHTML = f"Cím: {title}"
        document.getElementById("poem").textContent = content

     //   # Create "Like" button
        likeButton = document.createElement("button")
        likeButton.textContent = "Tetszik"
        likeButton.addEventListener("click", showGif)
        document.getElementById("likeButtonContainer").appendChild(likeButton)
    else:
        console.error("No poems found in the list.")
        document.getElementById("poem").textContent = "Nincs elérhető vers."

logPoem()
  </script>
</body>
</html>

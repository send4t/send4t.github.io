<!DOCTYPE html>
<html>
<head>
  <title>Random verse</title>
  <style>
    button {
      box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19);
      width: 30%;
    }
    button:hover {
      box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);
      width: 30%;
    }
    h1 {
      text-align: center;
    }
    pre {
      text-align: center;
    }
    div {
      margin:20px;
      text-align: center;
    }
  </style>
</head>
<body>
  <h1 text-align: center;>Random Verse</h1>
  <div><button type="button" onclick="logPoem()">Show a Verse</button></div>
  <div id="title"></div>
  <pre id="poem"></pre>
  <div id="likeButtonContainer"></div>
  <div id="gifContainer"></div>

  <script>
    // Fetch poems from external JSON file
    fetch('poems.json')
      .then(response => response.json())
      .then(data => {
        const poems = data.poems;

        function getRandomPoem() {
          const randomIndex = Math.floor(Math.random() * poems.length);
          return poems[randomIndex];
        }

        function logPoem() {
          // Delete all previous entries
          document.getElementById("title").innerHTML = "";
          document.getElementById("poem").textContent = "";
          document.getElementById("likeButtonContainer").innerHTML = "";
          document.getElementById("gifContainer").innerHTML = "";

          const poem = getRandomPoem();
          if (poem) {
            const title = poem.title;
            const content = poem.content;

            document.getElementById("title").innerHTML = `Title: ${title}`;
            document.getElementById("poem").textContent = content;

            // Create "Like" button
            const likeButton = document.createElement("button");
            likeButton.textContent = "Like";
            likeButton.addEventListener("click", showGif);
            document.getElementById("likeButtonContainer").appendChild(likeButton);
          } else {
            console.error("No poems found in the list.");
            document.getElementById("poem").textContent = "No available poem.";
          }
        }

        function showGif() {
          const gifUrl = "https://media.tenor.com/DBFq-CWWkGoAAAAC/baby-booty.gif"; // Replace with your own GIF URL

          // Hide "Like" button
          document.getElementById("likeButtonContainer").style.display = "none";

          // Create GIF element
          const gifElement = document.createElement("img");
          gifElement.src = gifUrl;

          document.getElementById("gifContainer").appendChild(gifElement);
        }
      })
      .catch(error => {
        console.error("Error fetching poems:", error);
        document.getElementById("poem").textContent = "Error fetching poems.";
      });
  </script>
</body>
</html>
